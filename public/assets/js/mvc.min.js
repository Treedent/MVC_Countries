window.onload=(()=>{let e=document,t=e.querySelector("#mvcOffCanvas .offcanvas-title"),n=e.querySelector("#mvcOffCanvas .offcanvas-body");e.querySelectorAll(".openOffcanvas").forEach(e=>{e.addEventListener("click",e=>{let r=e.currentTarget,o=r.dataset.title,a=r.dataset.content;fetch(a).then(e=>e.text()).then(e=>{t.textContent=o,n.innerHTML=e});new bootstrap.Offcanvas("#mvcOffCanvas").show()})}),e.querySelector("#mvcOffCanvas").addEventListener("input",t=>{let n=t.target;switch(n.id){case"bg-color":e.body.style.backgroundColor=n.value;break;case"titles-color":e.querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(e=>{e.style.color=n.value});break;case"texts-color":e.querySelectorAll("td").forEach(e=>{e.style.color=n.value})}},!0);let r=e.querySelector("#regionsList"),o=e.querySelector("#countriesList"),a=e.querySelector("#regionsForm"),s=e.querySelector("#selectedList"),c=e.querySelector("#regionName");r.addEventListener("change",e=>{let t=e.currentTarget;if(0!==parseInt(t.value)){let e=t.selectedOptions[0].text;s.innerHTML='<img src="assets/imgs/puff.svg" class="w-25" alt="Animation de chargement">',fetch("/",{method:"POST",enctype:"JSON",body:new FormData(a)}).then(e=>e.json()).then(t=>{!0===t.success&&setTimeout(()=>{c.innerHTML=e,s.innerHTML=t.content},1e3)}),o.classList.remove("d-none")}else c.innerHTML=s.innerHTML="",o.classList.add("d-none")})});